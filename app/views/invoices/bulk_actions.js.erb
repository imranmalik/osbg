jQuery('.alert').hide();
<% if @action == "enter payment" %>
    window.location.href = "/payments/enter_payment?invoice_ids=<%= params[:invoice_ids].join(",") %>"
<%else%>
    <% if @action == "archived" or @action == "deleted" %>
        jQuery(".alert.alert-success").show().find('span').html("<%= escape_javascript @message %>");
    <%elsif @action == "paid invoices" %>
         jQuery(".alert.alert-error").show().find('span').html("You cannot pay paid invoices.");
    <%elsif @action == "invoices_with_payments" %>
         jQuery(".invoices_with_payments").html("<%= escape_javascript(render(:partial=>"invoices_with_payments",:locals=>{:invoices_with_payments =>@invoices_with_payments})) %>");
         jQuery(".invoices_with_payments").show()
    <%else%>
         jQuery(".alert.alert-success").show().find('span').html("Invoices are <%= @action %> successfully.");
    <% end %>

    <%if !params[:invoice_ids].blank? && @action != "paid invoices"%>
        jQuery('tbody#invoice_body').html('<%= escape_javascript render("invoice") %>');
    <%end%>

// Enable/Disable action links(Archive,Delete,Recover). //

    jQuery('#active_links').html('<%= escape_javascript render("filter_links") %>');
    jQuery('#active_links a').removeClass('active');
    <% if @action == "recovered from archived"%>
        jQuery('.get_archived').addClass('active');
    <% elsif @action == "recovered from deleted" %>
        jQuery('.get_deleted').addClass('active');
    <%else%>
        jQuery('.get_actives').addClass('active');
    <%end%>
    jQuery('#select_all').attr('checked',false);
    <%if @action != "paid invoices"%>
        jQuery('tfoot#paging_links').html('<%= escape_javascript render("paging") %>');
        jQuery("table.table_listing").trigger('update');
    <%end%>

<%end%>